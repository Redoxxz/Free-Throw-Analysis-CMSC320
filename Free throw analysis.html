<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>90b47c7c20014684a9c6824153c792ed</title>
  <style>
    html {
      line-height: 1.5;
      font-family: Georgia, serif;
      font-size: 20px;
      color: #1a1a1a;
      background-color: #fdfdfd;
    }
    body {
      margin: 0 auto;
      max-width: 36em;
      padding-left: 50px;
      padding-right: 50px;
      padding-top: 50px;
      padding-bottom: 50px;
      hyphens: auto;
      word-wrap: break-word;
      text-rendering: optimizeLegibility;
      font-kerning: normal;
    }
    @media (max-width: 600px) {
      body {
        font-size: 0.9em;
        padding: 1em;
      }
    }
    @media print {
      body {
        background-color: transparent;
        color: black;
        font-size: 12pt;
      }
      p, h2, h3 {
        orphans: 3;
        widows: 3;
      }
      h2, h3, h4 {
        page-break-after: avoid;
      }
    }
    p {
      margin: 1em 0;
    }
    a {
      color: #1a1a1a;
    }
    a:visited {
      color: #1a1a1a;
    }
    img {
      max-width: 100%;
    }
    h1, h2, h3, h4, h5, h6 {
      margin-top: 1.4em;
    }
    h5, h6 {
      font-size: 1em;
      font-style: italic;
    }
    h6 {
      font-weight: normal;
    }
    ol, ul {
      padding-left: 1.7em;
      margin-top: 1em;
    }
    li > ol, li > ul {
      margin-top: 0;
    }
    blockquote {
      margin: 1em 0 1em 1.7em;
      padding-left: 1em;
      border-left: 2px solid #e6e6e6;
      color: #606060;
    }
    code {
      font-family: Menlo, Monaco, 'Lucida Console', Consolas, monospace;
      font-size: 85%;
      margin: 0;
    }
    pre {
      margin: 1em 0;
      overflow: auto;
    }
    pre code {
      padding: 0;
      overflow: visible;
    }
    .sourceCode {
     background-color: transparent;
     overflow: visible;
    }
    hr {
      background-color: #1a1a1a;
      border: none;
      height: 1px;
      margin: 1em 0;
    }
    table {
      margin: 1em 0;
      border-collapse: collapse;
      width: 100%;
      overflow-x: auto;
      display: block;
      font-variant-numeric: lining-nums tabular-nums;
    }
    table caption {
      margin-bottom: 0.75em;
    }
    tbody {
      margin-top: 0.5em;
      border-top: 1px solid #1a1a1a;
      border-bottom: 1px solid #1a1a1a;
    }
    th {
      border-top: 1px solid #1a1a1a;
      padding: 0.25em 0.5em 0.25em 0.5em;
    }
    td {
      padding: 0.125em 0.5em 0.25em 0.5em;
    }
    header {
      margin-bottom: 4em;
      text-align: center;
    }
    #TOC li {
      list-style: none;
    }
    #TOC a:not(:hover) {
      text-decoration: none;
    }
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<section id="free-throw-analysis" class="cell markdown">
<h1>Free Throw Analysis</h1>
</section>
<section id="analyzing-the-impact-of-free-throw-shooting-in-the-nba" class="cell markdown">
<h4>Analyzing the impact of free throw shooting in the NBA</h4>
</section>
<div class="cell markdown">
<p>By: Mohammad Ahmad</p>
</div>
<section id="table-of-contents" class="cell markdown">
<h2>Table of Contents</h2>
</section>
<div class="cell markdown">
<p>    I. Introduction</p>
<p>    II. Data Collection and Processing</p>
<p>    III. Exploratory Data Analysis and Visualization</p>
<p>    IV. Analysis and Machine Learning</p>
<p>    V. Conclusion</p>
</div>
<section id="i-introduction" class="cell markdown">
<h2>I. Introduction</h2>
</section>
<div class="cell markdown">
<p>We have recently seen a trend in the NBA in which many teams and players will build around 3-point shooting as their main way to get points. This change was brought about largely by Stephen Curry and the Golden State Warriors. We now even see Centers and Power Forwards take more 3-point shots than they traditionally would have in the past to try to emulate the success of the Warriors.</p>
<p>However, this tutorial will shift focus to another important shot: the Free Throw. We will take a look at the effect of free throw shooting attempts and percentages on the success of an NBA team. Instead of encouraging players to shoot better from the 3-point line, let us take a look at how important it is for them to focus on making more of their free throws instead.</p>
<p>In order to follow along with this tutorial, make sure you have the following Python libraries installed so that you can run this code on your own machine.</p>
<ul>
<li>Pandas (<a href="https://pandas.pydata.org/pandas-docs/version/0.15/tutorials.html">docs</a>)</li>
<li>Numpy (<a href="https://docs.scipy.org/doc/numpy/reference/">docs</a>)</li>
<li>Matplotlib (<a href="https://matplotlib.org/contents.html">docs</a>)</li>
<li>Seaborn (<a href="https://seaborn.pydata.org/">docs</a>)</li>
<li>Scipy (<a href="https://www.scipy.org/docs.html">docs</a>)</li>
</ul>
</div>
<div class="cell code" data-execution_count="1">
<div class="sourceCode" id="cb1"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> scipy <span class="im">as</span> scipy</span></code></pre></div>
</div>
<section id="ii-data-collection-and-processing" class="cell markdown">
<h2>II. Data Collection and Processing</h2>
</section>
<div class="cell markdown">
<p>To begin, we will gather all of the data we will be needing for our analysis. Let's start with some basic NBA team data with statistics spanning from 2001 - 2018. Included with this tutorial is a file <a href="teamstats.csv">teamstats.csv</a> that has all of the data that we will use in our analysis. This file comes from data collected from <a href="https://www.basketball-reference.com/leagues/NBA_stats_per_game.html#stats::none">Basketball Reference.</a></p>
<p>This data was compiled together by using the <a href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/">BeautifulSoup</a> library and scraping the data from multiple different pages on Basketball Reference. For the sake of brevity, we have left out the duplicative code of running this same process on the different pages to get our desired data. If you want to see the code that we used to gather the data in <code>teamstats.csv</code>, we have included it on a separate page which you can check out <a href="statscraping.html">here.</a></p>
<p>Now, let's load this file into a data frame and prepare it for analysis. The <code>pandas</code> library makes this an easy task. Here we load the file and display it's first three entries.</p>
</div>
<div class="cell code" data-execution_count="2">
<div class="sourceCode" id="cb2"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>team_df <span class="op">=</span> pd.read_csv(<span class="st">&#39;teamstats.csv&#39;</span>)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>display(team_df.head(<span class="dv">3</span>))</span></code></pre></div>
<div class="output display_data">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Unnamed: 0</th>
      <th>Rk_x</th>
      <th>Team</th>
      <th>G</th>
      <th>MP</th>
      <th>FG</th>
      <th>FGA</th>
      <th>FG%</th>
      <th>3P</th>
      <th>3PA</th>
      <th>...</th>
      <th>ORB%</th>
      <th>FT/FGA</th>
      <th>Opp_eFG%</th>
      <th>Opp_TOV%</th>
      <th>Opp_DRB%</th>
      <th>Opp_FT/FGA</th>
      <th>Arena</th>
      <th>Attend.</th>
      <th>Attend./G</th>
      <th>Year</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>0</td>
      <td>0</td>
      <td>1.0</td>
      <td>Milwaukee Bucks*</td>
      <td>82</td>
      <td>241.2</td>
      <td>43.4</td>
      <td>91.1</td>
      <td>0.476</td>
      <td>13.5</td>
      <td>38.2</td>
      <td>...</td>
      <td>20.8</td>
      <td>0.197</td>
      <td>0.503</td>
      <td>11.5</td>
      <td>80.3</td>
      <td>0.162</td>
      <td>Fiserv Forum</td>
      <td>721692</td>
      <td>17602</td>
      <td>2018</td>
    </tr>
    <tr>
      <td>1</td>
      <td>1</td>
      <td>2.0</td>
      <td>Golden State Warriors*</td>
      <td>82</td>
      <td>241.5</td>
      <td>44.0</td>
      <td>89.8</td>
      <td>0.491</td>
      <td>13.3</td>
      <td>34.4</td>
      <td>...</td>
      <td>22.5</td>
      <td>0.182</td>
      <td>0.508</td>
      <td>11.7</td>
      <td>77.1</td>
      <td>0.205</td>
      <td>Oracle Arena</td>
      <td>803436</td>
      <td>19596</td>
      <td>2018</td>
    </tr>
    <tr>
      <td>2</td>
      <td>2</td>
      <td>3.0</td>
      <td>New Orleans Pelicans</td>
      <td>82</td>
      <td>240.9</td>
      <td>43.7</td>
      <td>92.2</td>
      <td>0.473</td>
      <td>10.3</td>
      <td>29.9</td>
      <td>...</td>
      <td>24.1</td>
      <td>0.193</td>
      <td>0.532</td>
      <td>11.6</td>
      <td>76.8</td>
      <td>0.193</td>
      <td>Smoothie King Center</td>
      <td>656183</td>
      <td>16004</td>
      <td>2018</td>
    </tr>
  </tbody>
</table>
<p>3 rows × 54 columns</p>
</div>
</div>
</div>
<div class="cell markdown">
<p>There is a lot of great data for us to look at here, but first we must use Entity Resolution to clean up the data and prepare it for analysis. There is a total of 53 columns in this table. For this tutorial, we will only be focusing on a few of these statistics so we can extract only the columns that will apply for our analysis. Here we will create a list of the columns we care about and overwrite our <code>team_df</code> table with only those columns.</p>
</div>
<div class="cell code" data-execution_count="3">
<div class="sourceCode" id="cb3"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>desired_columns <span class="op">=</span> [<span class="st">&#39;Team&#39;</span>, <span class="st">&#39;Year&#39;</span>, <span class="st">&#39;W&#39;</span>, <span class="st">&#39;3PA&#39;</span>, <span class="st">&#39;FT&#39;</span>, <span class="st">&#39;FTA&#39;</span>, <span class="st">&#39;FT%&#39;</span>, <span class="st">&#39;FT/FGA&#39;</span>, <span class="st">&#39;Opp_FT/FGA&#39;</span>]</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>team_df <span class="op">=</span> team_df[desired_columns]</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>display(team_df.head(<span class="dv">3</span>))</span></code></pre></div>
<div class="output display_data">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Team</th>
      <th>Year</th>
      <th>W</th>
      <th>3PA</th>
      <th>FT</th>
      <th>FTA</th>
      <th>FT%</th>
      <th>FT/FGA</th>
      <th>Opp_FT/FGA</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>0</td>
      <td>Milwaukee Bucks*</td>
      <td>2018</td>
      <td>60.0</td>
      <td>38.2</td>
      <td>17.9</td>
      <td>23.2</td>
      <td>0.773</td>
      <td>0.197</td>
      <td>0.162</td>
    </tr>
    <tr>
      <td>1</td>
      <td>Golden State Warriors*</td>
      <td>2018</td>
      <td>57.0</td>
      <td>34.4</td>
      <td>16.3</td>
      <td>20.4</td>
      <td>0.801</td>
      <td>0.182</td>
      <td>0.205</td>
    </tr>
    <tr>
      <td>2</td>
      <td>New Orleans Pelicans</td>
      <td>2018</td>
      <td>33.0</td>
      <td>29.9</td>
      <td>17.8</td>
      <td>23.4</td>
      <td>0.761</td>
      <td>0.193</td>
      <td>0.193</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<div class="cell markdown">
<p>Taking a closer look at the table, we notice that there is an extra row for league averages after every 30 rows corresponding to a given season. See the below example:</p>
</div>
<div class="cell code" data-execution_count="4">
<div class="sourceCode" id="cb4"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>display(team_df.loc[[<span class="dv">30</span>]])</span></code></pre></div>
<div class="output display_data">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Team</th>
      <th>Year</th>
      <th>W</th>
      <th>3PA</th>
      <th>FT</th>
      <th>FTA</th>
      <th>FT%</th>
      <th>FT/FGA</th>
      <th>Opp_FT/FGA</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>30</td>
      <td>League Average</td>
      <td>2018</td>
      <td>NaN</td>
      <td>32.0</td>
      <td>17.7</td>
      <td>23.1</td>
      <td>0.766</td>
      <td>0.198</td>
      <td>0.198</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<div class="cell markdown">
<p>It would be better to move these rows to a seperate data frame that focuses on just the league averages. This way we can use <code>team_df</code> for specific statistics on each team only. Below we do this by checking for rows where the <code>Team</code> column is <code>League Average</code> and adding these rows to <code>averages_df</code>.</p>
</div>
<div class="cell code" data-execution_count="5" data-scrolled="true">
<div class="sourceCode" id="cb5"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create averages_df with rows that had League Average in their Team column</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>averages_df <span class="op">=</span> team_df[team_df[<span class="st">&#39;Team&#39;</span>] <span class="op">==</span> <span class="st">&#39;League Average&#39;</span>].copy()</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Get names of indexes for rows that had League Average in their Team column</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>indexNames <span class="op">=</span> team_df[team_df[<span class="st">&#39;Team&#39;</span>] <span class="op">==</span> <span class="st">&#39;League Average&#39;</span>].index</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Delete these row indexes from team_df</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>team_df.drop(indexNames, inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>display(averages_df.head(<span class="dv">3</span>))</span></code></pre></div>
<div class="output display_data">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Team</th>
      <th>Year</th>
      <th>W</th>
      <th>3PA</th>
      <th>FT</th>
      <th>FTA</th>
      <th>FT%</th>
      <th>FT/FGA</th>
      <th>Opp_FT/FGA</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>30</td>
      <td>League Average</td>
      <td>2018</td>
      <td>NaN</td>
      <td>32.0</td>
      <td>17.7</td>
      <td>23.1</td>
      <td>0.766</td>
      <td>0.198</td>
      <td>0.198</td>
    </tr>
    <tr>
      <td>61</td>
      <td>League Average</td>
      <td>2017</td>
      <td>NaN</td>
      <td>29.0</td>
      <td>16.6</td>
      <td>21.7</td>
      <td>0.767</td>
      <td>0.193</td>
      <td>0.193</td>
    </tr>
    <tr>
      <td>92</td>
      <td>League Average</td>
      <td>2016</td>
      <td>NaN</td>
      <td>27.0</td>
      <td>17.8</td>
      <td>23.1</td>
      <td>0.772</td>
      <td>0.209</td>
      <td>0.209</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<div class="cell markdown">
<p>The last thing we will do to clean this table is to handle the team names which have an asterisk (*) at the end. In our data, these asterisks represent the teams that made the NBA Playoffs for that season. We can make this fact easily accessible for use in our analysis by adding a new column <code>Made_Playoffs</code> and specifying <code>True</code> or <code>False</code> for each team depending on whether they made the playoffs that season.</p>
</div>
<div class="cell code" data-execution_count="6">
<div class="sourceCode" id="cb6"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Initializing all values to false</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>team_df[<span class="st">&#39;Made_Playoffs&#39;</span>] <span class="op">=</span> [<span class="va">False</span>] <span class="op">*</span> <span class="bu">len</span>(team_df)</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> index, row <span class="kw">in</span> team_df.iterrows():</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> row[<span class="st">&#39;Team&#39;</span>].endswith(<span class="st">&#39;*&#39;</span>):</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>        team_df.at[index, <span class="st">&#39;Made_Playoffs&#39;</span>] <span class="op">=</span> <span class="va">True</span></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>        team_df.at[index, <span class="st">&#39;Team&#39;</span>] <span class="op">=</span> row[<span class="st">&#39;Team&#39;</span>][:<span class="op">-</span><span class="dv">1</span>]</span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>display(team_df.head(<span class="dv">3</span>))</span></code></pre></div>
<div class="output display_data">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Team</th>
      <th>Year</th>
      <th>W</th>
      <th>3PA</th>
      <th>FT</th>
      <th>FTA</th>
      <th>FT%</th>
      <th>FT/FGA</th>
      <th>Opp_FT/FGA</th>
      <th>Made_Playoffs</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>0</td>
      <td>Milwaukee Bucks</td>
      <td>2018</td>
      <td>60.0</td>
      <td>38.2</td>
      <td>17.9</td>
      <td>23.2</td>
      <td>0.773</td>
      <td>0.197</td>
      <td>0.162</td>
      <td>True</td>
    </tr>
    <tr>
      <td>1</td>
      <td>Golden State Warriors</td>
      <td>2018</td>
      <td>57.0</td>
      <td>34.4</td>
      <td>16.3</td>
      <td>20.4</td>
      <td>0.801</td>
      <td>0.182</td>
      <td>0.205</td>
      <td>True</td>
    </tr>
    <tr>
      <td>2</td>
      <td>New Orleans Pelicans</td>
      <td>2018</td>
      <td>33.0</td>
      <td>29.9</td>
      <td>17.8</td>
      <td>23.4</td>
      <td>0.761</td>
      <td>0.193</td>
      <td>0.193</td>
      <td>False</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<section id="iii-exploratory-data-analysis-and-visualization" class="cell markdown">
<h2>III. Exploratory Data Analysis and Visualization</h2>
</section>
<div class="cell markdown">
<p>Now that our data has been prepared for analysis, let's start off by comparing the state of free throw shooting and 3-point shooting throughout the NBA in the last 18 seasons. We will create a chart showing average free throw attempts and average 3-point shot attempts for each season included in our data.</p>
</div>
<div class="cell code" data-execution_count="7">
<div class="sourceCode" id="cb7"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>sns.set_style(<span class="st">&quot;darkgrid&quot;</span>)</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">16</span>,<span class="dv">8</span>))</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>plt.plot(<span class="st">&#39;Year&#39;</span>, <span class="st">&#39;FTA&#39;</span>, data<span class="op">=</span>averages_df, marker<span class="op">=</span><span class="st">&#39;o&#39;</span>, color<span class="op">=</span><span class="st">&#39;blue&#39;</span>, linewidth<span class="op">=</span><span class="dv">2</span>)</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>plt.plot(<span class="st">&#39;Year&#39;</span>, <span class="st">&#39;3PA&#39;</span>, data<span class="op">=</span>averages_df, marker<span class="op">=</span><span class="st">&#39;o&#39;</span>, color<span class="op">=</span><span class="st">&#39;red&#39;</span>, linewidth<span class="op">=</span><span class="dv">2</span>)</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>plt.xticks(averages_df[<span class="st">&#39;Year&#39;</span>])</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&#39;Free Throw Attempts vs. 3-Point Attempts from 2001-2018&#39;</span>)</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>plt.legend()</span></code></pre></div>
<div class="output execute_result" data-execution_count="7">
<pre><code>&lt;matplotlib.legend.Legend at 0x7f5ff35374a8&gt;</code></pre>
</div>
<div class="output display_data">
<p><img src="vertopal_88f9532f21724a90bc394d67b1c02a87/dbff108d30485acf6cf08cf75f5bad25a5b986f8.png" /></p>
</div>
</div>
<div class="cell markdown">
<p>As we can see from the chart, the trend we explained in the introduction becomes very clear. While free throw attempts have remained relatively the same throughout the years, 3-point attempts have seen a dramatic increase. In 2001, The average 3-point attempts in the league was only 15 per game, and over the course of 18 seasons it has more than doubled!</p>
<p>We already know the value of the 3-point shot; of course scoring 3 points on a shot attempt is better than scoring 2 points. But the free throw is literally what it is called: a free shot. It is quite surprising to see that teams are not putting extra emphasis on getting to the free throw line more.</p>
<p>Let's see if these teams know what they are doing. To start, we will create a new chart showing the average number of free throw shots made per game by Playoff teams versus Non-Playoff teams.</p>
</div>
<div class="cell code" data-execution_count="8">
<div class="sourceCode" id="cb9"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>playoff_teams_df <span class="op">=</span> team_df[team_df[<span class="st">&#39;Made_Playoffs&#39;</span>] <span class="op">==</span> <span class="va">True</span>].copy()</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>nonplayoff_teams_df <span class="op">=</span> team_df[team_df[<span class="st">&#39;Made_Playoffs&#39;</span>] <span class="op">==</span> <span class="va">False</span>].copy()</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>playoff_team_avg <span class="op">=</span> pd.pivot_table(playoff_teams_df, values<span class="op">=</span><span class="st">&#39;FT&#39;</span>, </span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>                    index<span class="op">=</span>[<span class="st">&#39;Year&#39;</span>],</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>                    aggfunc<span class="op">=</span><span class="st">&#39;mean&#39;</span>)</span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>nonplayoff_team_avg <span class="op">=</span> pd.pivot_table(nonplayoff_teams_df, values<span class="op">=</span><span class="st">&#39;FT&#39;</span>, </span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>                    index<span class="op">=</span>[<span class="st">&#39;Year&#39;</span>], </span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>                    aggfunc<span class="op">=</span><span class="st">&#39;mean&#39;</span>)</span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>playoff_team_avg.rename({<span class="st">&#39;FT&#39;</span>: <span class="st">&#39;Playoff Team&#39;</span>}, axis<span class="op">=</span><span class="dv">1</span>, inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a>nonplayoff_team_avg.rename({<span class="st">&#39;FT&#39;</span>: <span class="st">&#39;Non-Playoff Team&#39;</span>}, axis<span class="op">=</span><span class="dv">1</span>, inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a>merged_df <span class="op">=</span> pd.merge(playoff_team_avg, nonplayoff_team_avg, on<span class="op">=</span><span class="st">&#39;Year&#39;</span>)</span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a>merged_df.plot.bar(figsize<span class="op">=</span>(<span class="dv">16</span>,<span class="dv">8</span>))</span>
<span id="cb9-18"><a href="#cb9-18" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&#39;Average Free Throws Made Per Game (Playoff Teams vs. Non-Playoff Teams)&#39;</span>)</span></code></pre></div>
<div class="output execute_result" data-execution_count="8">
<pre><code>Text(0.5, 1.0, &#39;Average Free Throws Made Per Game (Playoff Teams vs. Non-Playoff Teams)&#39;)</code></pre>
</div>
<div class="output display_data">
<p><img src="vertopal_88f9532f21724a90bc394d67b1c02a87/dd426d1aaff98f1498aaf2c57d074c1369473078.png" /></p>
</div>
</div>
<div class="cell markdown">
<p>We can see some interesting things from the chart. In most of the years shown Playoff teams did make more free throws than Non-Playoff teams. However, there are some years where this is not the case, like 2005 and 2006. We also see that there does not seem to be a consistent gap between the two categories, as they vary year to year.</p>
<p>Does this tell the whole story of what is going on here? To dig deeper, let's isolate the top 8 teams by win counts for each season and create a chart of the <strong>standardized</strong> free throws made between those teams and the rest of the league. We can begin this process by adding a <code>Standardized_FT</code> column to our <code>team_df</code>. If you want to learn more about the advantages of using standardized data, <a href="https://humansofdata.atlan.com/2018/12/data-standardization/">check out this article</a> which can tell you about the extra insights we gain from doing this.</p>
</div>
<div class="cell code" data-execution_count="9">
<div class="sourceCode" id="cb11"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Computing the Standard Deviation of Free Throws Made, grouped by Year</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>ft_stddev <span class="op">=</span> pd.pivot_table(team_df, values<span class="op">=</span><span class="st">&#39;FT&#39;</span>, </span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>                    index<span class="op">=</span>[<span class="st">&#39;Year&#39;</span>],</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>                    aggfunc<span class="op">=</span><span class="st">&#39;std&#39;</span>)</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>ft_stddev.rename({<span class="st">&#39;FT&#39;</span>: <span class="st">&#39;StdDev_FT&#39;</span>}, axis<span class="op">=</span><span class="dv">1</span>, inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Initializing our Standardized_FT column</span></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>team_df[<span class="st">&#39;Standardized_FT&#39;</span>] <span class="op">=</span> [<span class="fl">0.0</span>] <span class="op">*</span> <span class="bu">len</span>(team_df)</span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Filling in the values for the Standardized_FT column</span></span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> index, row <span class="kw">in</span> team_df.iterrows():</span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>    year <span class="op">=</span> row[<span class="st">&#39;Year&#39;</span>]</span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a>    ftm <span class="op">=</span> row[<span class="st">&#39;FT&#39;</span>]</span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Getting the average free throws made from the averages_df table</span></span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a>    mean_ftm <span class="op">=</span> averages_df.loc[averages_df[<span class="st">&#39;Year&#39;</span>] <span class="op">==</span> year, <span class="st">&#39;FT&#39;</span>]</span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Getting the standard deviation of free throws made from the ft_stddev table we created above</span></span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a>    stddev_ftm <span class="op">=</span> ft_stddev.loc[year][<span class="st">&#39;StdDev_FT&#39;</span>]</span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Computing the standardized value</span></span>
<span id="cb11-19"><a href="#cb11-19" aria-hidden="true" tabindex="-1"></a>    standardized_ftm <span class="op">=</span> (ftm <span class="op">-</span> mean_ftm) <span class="op">/</span> (stddev_ftm)</span>
<span id="cb11-20"><a href="#cb11-20" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Setting the Standardized_FT column to our computed standardized value</span></span>
<span id="cb11-21"><a href="#cb11-21" aria-hidden="true" tabindex="-1"></a>    team_df.at[index, <span class="st">&#39;Standardized_FT&#39;</span>] <span class="op">=</span> standardized_ftm</span>
<span id="cb11-22"><a href="#cb11-22" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb11-23"><a href="#cb11-23" aria-hidden="true" tabindex="-1"></a>display(team_df.head(<span class="dv">3</span>))</span></code></pre></div>
<div class="output display_data">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Team</th>
      <th>Year</th>
      <th>W</th>
      <th>3PA</th>
      <th>FT</th>
      <th>FTA</th>
      <th>FT%</th>
      <th>FT/FGA</th>
      <th>Opp_FT/FGA</th>
      <th>Made_Playoffs</th>
      <th>Standardized_FT</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>0</td>
      <td>Milwaukee Bucks</td>
      <td>2018</td>
      <td>60.0</td>
      <td>38.2</td>
      <td>17.9</td>
      <td>23.2</td>
      <td>0.773</td>
      <td>0.197</td>
      <td>0.162</td>
      <td>True</td>
      <td>0.118096</td>
    </tr>
    <tr>
      <td>1</td>
      <td>Golden State Warriors</td>
      <td>2018</td>
      <td>57.0</td>
      <td>34.4</td>
      <td>16.3</td>
      <td>20.4</td>
      <td>0.801</td>
      <td>0.182</td>
      <td>0.205</td>
      <td>True</td>
      <td>-0.826674</td>
    </tr>
    <tr>
      <td>2</td>
      <td>New Orleans Pelicans</td>
      <td>2018</td>
      <td>33.0</td>
      <td>29.9</td>
      <td>17.8</td>
      <td>23.4</td>
      <td>0.761</td>
      <td>0.193</td>
      <td>0.193</td>
      <td>False</td>
      <td>0.059048</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<div class="cell markdown">
<p>Now let's isolate the top 15 teams and bottom 15 teams for each season into a separate data frame. To do this we will create a temporary data frame for each year, sort it by the number of wins, and add the 15 teams with the most wins in that season to our <code>top_team_df</code> while adding the bottom 15 teams to <code>bottom_team_df</code>.</p>
<p>This time we will also look for any outliers in Free Throws made and remove them so that our data is not impacted by unusual values.</p>
</div>
<div class="cell code" data-execution_count="10">
<div class="sourceCode" id="cb12"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Our dataframe for the top 15 teams for each year</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>top_team_df <span class="op">=</span> pd.DataFrame()</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Our dataframe for all bottom 15 for each year</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>bottom_team_df <span class="op">=</span> pd.DataFrame()</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">2001</span>, <span class="dv">2019</span>):</span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Getting all teams for the current year</span></span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>    yearly_teams <span class="op">=</span> team_df.loc[team_df[<span class="st">&#39;Year&#39;</span>] <span class="op">==</span> i]</span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Removing the teams which have outlying free throws made per game (must be within 3 std. deviations of mean)</span></span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>    removed_outliers <span class="op">=</span> yearly_teams[np.<span class="bu">abs</span>(yearly_teams.FT <span class="op">-</span> yearly_teams.FT.mean()) <span class="op">&lt;=</span> (<span class="dv">3</span><span class="op">*</span>yearly_teams.FT.std())]</span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Sorting our remaining teams by their Win counts</span></span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a>    sorted_teams <span class="op">=</span> removed_outliers.sort_values(by<span class="op">=</span>[<span class="st">&#39;W&#39;</span>], ascending<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Adding the top 15 teams to top_team_df</span></span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a>    top_team_df <span class="op">=</span> top_team_df.append(sorted_teams.head(<span class="dv">15</span>))</span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Adding the bottom 15 to bottom_team_df</span></span>
<span id="cb12-16"><a href="#cb12-16" aria-hidden="true" tabindex="-1"></a>    bottom_team_df <span class="op">=</span> bottom_team_df.append(sorted_teams.tail(<span class="bu">len</span>(sorted_teams) <span class="op">-</span> <span class="dv">15</span>))</span></code></pre></div>
</div>
<div class="cell markdown">
<p>Now we will aggregate the average Standardized Free Throws per game, grouping by Year, for the top teams and bottom teams and store them in seperate dataframes.</p>
</div>
<div class="cell code" data-execution_count="11">
<div class="sourceCode" id="cb13"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Computing the average Standardized Free Throws made for the top teams and bottom teams (grouped by Year)</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>top_team_avg <span class="op">=</span> pd.pivot_table(top_team_df, values<span class="op">=</span><span class="st">&#39;Standardized_FT&#39;</span>, </span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>                    index<span class="op">=</span>[<span class="st">&#39;Year&#39;</span>],</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>                    aggfunc<span class="op">=</span><span class="st">&#39;mean&#39;</span>)</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>bottom_team_avg <span class="op">=</span> pd.pivot_table(bottom_team_df, values<span class="op">=</span><span class="st">&#39;Standardized_FT&#39;</span>, </span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>                    index<span class="op">=</span>[<span class="st">&#39;Year&#39;</span>], </span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>                    aggfunc<span class="op">=</span><span class="st">&#39;mean&#39;</span>)</span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a>top_team_avg.rename({<span class="st">&#39;Standardized_FT&#39;</span>: <span class="st">&#39;Top 15 Teams&#39;</span>}, axis<span class="op">=</span><span class="dv">1</span>, inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a>bottom_team_avg.rename({<span class="st">&#39;Standardized_FT&#39;</span>: <span class="st">&#39;Bottom 15 Teams&#39;</span>}, axis<span class="op">=</span><span class="dv">1</span>, inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Setting the values for the Year column to be the index we grouped by</span></span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a>top_team_avg[<span class="st">&#39;Year&#39;</span>] <span class="op">=</span> top_team_avg.index</span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a>bottom_team_avg[<span class="st">&#39;Year&#39;</span>] <span class="op">=</span> bottom_team_avg.index</span></code></pre></div>
</div>
<div class="cell markdown">
<p>And now we create the plot with the average standardized free throws made in each of our two new isolated tables.</p>
</div>
<div class="cell code" data-execution_count="12">
<div class="sourceCode" id="cb14"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">16</span>,<span class="dv">8</span>))</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>plt.plot(<span class="st">&#39;Year&#39;</span>, <span class="st">&#39;Top 15 Teams&#39;</span>, data<span class="op">=</span>top_team_avg, marker<span class="op">=</span><span class="st">&#39;o&#39;</span>, color<span class="op">=</span><span class="st">&#39;blue&#39;</span>, linewidth<span class="op">=</span><span class="dv">2</span>)</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>plt.plot(<span class="st">&#39;Year&#39;</span>, <span class="st">&#39;Bottom 15 Teams&#39;</span>, data<span class="op">=</span>bottom_team_avg, marker<span class="op">=</span><span class="st">&#39;o&#39;</span>, color<span class="op">=</span><span class="st">&#39;red&#39;</span>, linewidth<span class="op">=</span><span class="dv">2</span>)</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>plt.axhline(y<span class="op">=</span><span class="dv">0</span>, color<span class="op">=</span><span class="st">&#39;g&#39;</span>, linestyle<span class="op">=</span><span class="st">&#39;--&#39;</span>)</span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>plt.xticks(averages_df[<span class="st">&#39;Year&#39;</span>])</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&#39;Average Standardized Free Throws Made: Top 15 Teams vs. Bottom 15 Teams&#39;</span>)</span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>plt.legend()</span></code></pre></div>
<div class="output execute_result" data-execution_count="12">
<pre><code>&lt;matplotlib.legend.Legend at 0x7f5ff334c668&gt;</code></pre>
</div>
<div class="output display_data">
<p><img src="vertopal_88f9532f21724a90bc394d67b1c02a87/f6dc31fce45b4e32804875d82f27ad07742dbdfe.png" /></p>
</div>
</div>
<div class="cell markdown">
<p>As we can see, in 16 of the last 18 seasons the top 15 teams in the NBA made more free throws than the bottom 15 teams for that year. It is also interesting to see that even with outliers removed, there is a dramatic difference between free throws made of the top 15 teams and bottom 15 teams in 2005 and 2006.</p>
</div>
<div class="cell markdown">
<p>While the number of Free Throws made per game can offer some insight on the success of an NBA team, there is also another interesting column in our <code>team_df</code> table which we can explore. This column is the <code>FT/FGA</code> for each team, which is more commonly known as the "Free Throw Factor." It describes exactly what it's named as: the number of free throws made per field goal attempt. This will allow us to see how often teams get to the line along with their effectiveness in making their shots when they get there.</p>
<p>Let's dive into this new statistic by creating a scatter plot that shows the <code>FT/FGA</code> for each team in all of the seasons that we have data for. We will add a regression line to this plot to model the general trend of <code>FT/FGA</code> for this time period.</p>
</div>
<div class="cell code" data-execution_count="13">
<div class="sourceCode" id="cb16"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Creating the regression line with np.polyfit</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>xaxis <span class="op">=</span> team_df[<span class="st">&#39;Year&#39;</span>]</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>yaxis <span class="op">=</span> team_df[<span class="st">&#39;FT/FGA&#39;</span>]      </span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>regression_line <span class="op">=</span> np.polyfit(x <span class="op">=</span> xaxis, y <span class="op">=</span> yaxis, deg <span class="op">=</span> <span class="dv">1</span>)</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">16</span>,<span class="dv">8</span>))</span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>plt.plot(xaxis, regression_line[<span class="dv">0</span>] <span class="op">*</span> xaxis <span class="op">+</span> regression_line[<span class="dv">1</span>], <span class="st">&#39;r-&#39;</span>)</span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Creating the scatterplot with Seaborn</span></span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>sns.scatterplot(x<span class="op">=</span><span class="st">&quot;Year&quot;</span>, y<span class="op">=</span><span class="st">&quot;FT/FGA&quot;</span>, hue<span class="op">=</span><span class="st">&quot;Team&quot;</span>, data<span class="op">=</span>team_df)</span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>plt.legend(loc<span class="op">=</span><span class="dv">9</span>, bbox_to_anchor<span class="op">=</span>(<span class="fl">0.5</span>, <span class="op">-</span><span class="fl">0.1</span>), ncol<span class="op">=</span><span class="dv">5</span>)</span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&#39;FT/FGA for NBA Teams From 2001-2018&#39;</span>)</span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a>plt.xticks(averages_df[<span class="st">&#39;Year&#39;</span>])</span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">&#39;Year&#39;</span>)</span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">&#39;FT/FGA&#39;</span>)</span></code></pre></div>
<div class="output execute_result" data-execution_count="13">
<pre><code>Text(0, 0.5, &#39;FT/FGA&#39;)</code></pre>
</div>
<div class="output display_data">
<p><img src="vertopal_88f9532f21724a90bc394d67b1c02a87/acc3458d20a759647ca03a6f0f1993ec672f3e3c.png" /></p>
</div>
</div>
<div class="cell markdown">
<p><a href="https://seaborn.pydata.org/generated/seaborn.scatterplot.html">This documentation</a> provides wonderful guidance on Seaborns scatter plot functionality.</p>
</div>
<div class="cell markdown">
<p>There is a very interesting trend shown in the above plot! Our regression line is showing a negative slope, showing that the <code>FT/FGA</code> has been decreasing in the NBA from 2001 to 2018. If I had to guess why this was the case, it may have to do with the increasing number of 3-point shot attempts across the league. Since teams are taking more 3-point shots, they are less likely to get fouled from behind the arc and thus there are less free throws per field goal attempt.</p>
<p>Now let's see if we can uncover a relationship between <code>Win</code> count and a team's <code>FT/FGA</code>. We will create a new scatter plot which graphs the number of wins a team had against their <code>FT/FGA</code> for the entire 2001 to 2018 time period. We will also add a new regression line to see if there is a correlation between <code>Win</code> count and <code>FT/FGA</code>.</p>
</div>
<div class="cell code" data-execution_count="14">
<div class="sourceCode" id="cb18"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>xaxis <span class="op">=</span> team_df[<span class="st">&#39;W&#39;</span>]</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>yaxis <span class="op">=</span> team_df[<span class="st">&#39;FT/FGA&#39;</span>]      </span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>regression_line <span class="op">=</span> np.polyfit(x <span class="op">=</span> xaxis, y <span class="op">=</span> yaxis, deg <span class="op">=</span> <span class="dv">1</span>)</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">16</span>,<span class="dv">8</span>))</span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>plt.plot(xaxis, regression_line[<span class="dv">0</span>] <span class="op">*</span> xaxis <span class="op">+</span> regression_line[<span class="dv">1</span>], <span class="st">&#39;r-&#39;</span>)</span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>sns.scatterplot(x<span class="op">=</span><span class="st">&quot;W&quot;</span>, y<span class="op">=</span><span class="st">&quot;FT/FGA&quot;</span>, hue<span class="op">=</span><span class="st">&quot;Team&quot;</span>, data<span class="op">=</span>team_df)</span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>plt.legend(loc<span class="op">=</span><span class="dv">9</span>, bbox_to_anchor<span class="op">=</span>(<span class="fl">0.5</span>, <span class="op">-</span><span class="fl">0.1</span>), ncol<span class="op">=</span><span class="dv">5</span>)</span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&#39;FT/FGA vs. Wins For All NBA Teams (2001-2018)&#39;</span>)</span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">&#39;Wins&#39;</span>)</span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">&#39;FT/FGA&#39;</span>)</span></code></pre></div>
<div class="output execute_result" data-execution_count="14">
<pre><code>Text(0, 0.5, &#39;FT/FGA&#39;)</code></pre>
</div>
<div class="output display_data">
<p><img src="vertopal_88f9532f21724a90bc394d67b1c02a87/7f89899ff0eaf92675ddbac9547519a1ceaea426.png" /></p>
</div>
</div>
<div class="cell markdown">
<p>It looks like there is a somewhat slightly positive correlation between Wins and FT/FGA. We can check to see exactly what the correlation coefficient is with the <code>SciPy</code> library. We will calculate the <a href="https://docs.scipy.org/doc/scipy-0.15.1/reference/generated/scipy.stats.spearmanr.html">Spearman correlation coefficient</a> for this data.</p>
</div>
<div class="cell code" data-execution_count="15">
<div class="sourceCode" id="cb20"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>X <span class="op">=</span> team_df[<span class="st">&#39;W&#39;</span>]</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>y <span class="op">=</span> team_df[<span class="st">&#39;FT/FGA&#39;</span>]</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>scipy.stats.spearmanr(X, y)</span></code></pre></div>
<div class="output execute_result" data-execution_count="15">
<pre><code>SpearmanrResult(correlation=0.17491022328952407, pvalue=4.828035296220122e-05)</code></pre>
</div>
</div>
<div class="cell markdown">
<p>It looks like there was indeed a positive correlation, however it is somewhat weak as it is only about 0.175. The given pvalue is said to be testing the null-hypothesis of this data not being correlated, <a href="https://docs.scipy.org/doc/scipy-0.15.1/reference/generated/scipy.stats.spearmanr.html">according to this link.</a> We do see that this pvalue is much less than a statistical significance level of 0.05 which means we can reject this null hypothesis and we can be confident that the data is definitely somewhat correlated.</p>
<p>FT/FGA is a great statistic for seeing how efficient a team is with their own free throw shooting. We see that there is a weak correlation between a team's FT/FGA and their Win count, but what about their opponent's FT/FGA? Could it be possible that keeping your opponent from the free throw line is more strongly correlated to higher win counts? Let's find out! We will repeat the process above and create a new scatter plot, but this time using <code>Opp_FT/FGA</code>.</p>
</div>
<div class="cell code" data-execution_count="16">
<div class="sourceCode" id="cb22"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>xaxis <span class="op">=</span> team_df[<span class="st">&#39;W&#39;</span>]</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>yaxis <span class="op">=</span> team_df[<span class="st">&#39;Opp_FT/FGA&#39;</span>]      </span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>regression_line <span class="op">=</span> np.polyfit(x <span class="op">=</span> xaxis, y <span class="op">=</span> yaxis, deg <span class="op">=</span> <span class="dv">1</span>)</span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">16</span>,<span class="dv">8</span>))</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>plt.plot(xaxis, regression_line[<span class="dv">0</span>] <span class="op">*</span> xaxis <span class="op">+</span> regression_line[<span class="dv">1</span>], <span class="st">&#39;r-&#39;</span>)</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>sns.scatterplot(x<span class="op">=</span><span class="st">&quot;W&quot;</span>, y<span class="op">=</span><span class="st">&quot;Opp_FT/FGA&quot;</span>, hue<span class="op">=</span><span class="st">&quot;Team&quot;</span>, data<span class="op">=</span>team_df)</span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>plt.legend(loc<span class="op">=</span><span class="dv">9</span>, bbox_to_anchor<span class="op">=</span>(<span class="fl">0.5</span>, <span class="op">-</span><span class="fl">0.1</span>), ncol<span class="op">=</span><span class="dv">5</span>)</span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&quot;Opponent&#39;s FT/FGA vs. Wins For All NBA Teams (2001-2018)&quot;</span>)</span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">&#39;Wins&#39;</span>)</span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">&quot;Opponent&#39;s FT/FGA&quot;</span>)</span></code></pre></div>
<div class="output execute_result" data-execution_count="16">
<pre><code>Text(0, 0.5, &quot;Opponent&#39;s FT/FGA&quot;)</code></pre>
</div>
<div class="output display_data">
<p><img src="vertopal_88f9532f21724a90bc394d67b1c02a87/7e88fe29137f9e6ca017a873540b4656375fc69c.png" /></p>
</div>
</div>
<div class="cell markdown">
<p>As one might expect, there is definitely a negative correlation in the above scatter plot. It makes sense that the teams with more wins would hold their opponents to smaller FT/FGA values, but now it is a matter of how strong this correlation is. Let's calculate the Spearman correlation coefficient and see.</p>
</div>
<div class="cell code" data-execution_count="17">
<div class="sourceCode" id="cb24"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>X <span class="op">=</span> team_df[<span class="st">&#39;W&#39;</span>]</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>y <span class="op">=</span> team_df[<span class="st">&#39;Opp_FT/FGA&#39;</span>]</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>scipy.stats.spearmanr(X, y)</span></code></pre></div>
<div class="output execute_result" data-execution_count="17">
<pre><code>SpearmanrResult(correlation=-0.2267008211073084, pvalue=1.1867525745668437e-07)</code></pre>
</div>
</div>
<div class="cell markdown">
<p>Here we see that there is a -0.2267 correlation coefficient between Opp_FT/FGA and Win count, which is stronger than the 0.175 correlation coefficient we got before. We also got a much lower pvalue this time around, further showing the stronger correlation between Opp_FT/FGA and Win count. It looks like all the hype around defense has statistical evidence to back it up!</p>
</div>
<section id="iv-analysis-and-machine-learning" class="cell markdown">
<h2>IV. Analysis and Machine Learning</h2>
</section>
<div class="cell markdown">
<p>Although we can see subtle correlations between winning and free throw stats, we still need more proof. Another way of finding any relations between data is to incorporate Machine Learning to predict data for us. First, we need to import a Linear Regression model to use.</p>
<p>This Linear Regression model uses Ordinary least squares Linear Regression. We got help using this model from <a href="https://scikitlearn.org/stable/modules/generated/sklearn.linear_model.LinearRegression.html" class="uri">https://scikitlearn.org/stable/modules/generated/sklearn.linear_model.LinearRegression.html</a>.<br />
If you want to learn more about Ordinary least squares Linear Regression then take a look at <a href="https://www.statisticshowto.datasciencecentral.com/least-squares-regression-line/" class="uri">https://www.statisticshowto.datasciencecentral.com/least-squares-regression-line/</a>.</p>
</div>
<div class="cell code" data-execution_count="18">
<div class="sourceCode" id="cb26"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.linear_model <span class="im">import</span> LinearRegression</span></code></pre></div>
</div>
<div class="cell markdown">
<p>Objectively, we want to analyze how winning teams throughout NBA history have compared to losing teams based on their free throw stats. The stat we believe is most useful is the free throw factor FT/FGA. Before using the model we should add a column to the data which indicates wether or not an NBA team should be considered a winning team. By looking at the regular season records of many teams who have made the playoffs, we decided a winning team is a team which has attained at least 50 wins in the regular season.</p>
<p>The new column will simply indicate through 'Yes' or 'No' wether or not a team is considered a "winning team".</p>
</div>
<div class="cell code" data-execution_count="58">
<div class="sourceCode" id="cb27"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>winning_teams <span class="op">=</span> []</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> index, row <span class="kw">in</span> team_df.iterrows():</span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> row[<span class="st">&#39;W&#39;</span>] <span class="op">&gt;</span> <span class="dv">50</span>:</span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>        winning_teams.append(<span class="st">&#39;Yes&#39;</span>)</span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>        winning_teams.append(<span class="st">&#39;No&#39;</span>)</span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>team_df[<span class="st">&#39;winning_team&#39;</span>] <span class="op">=</span> winning_teams</span></code></pre></div>
</div>
<div class="cell markdown">
<p>Our first Linear Regression fit is a simple fit for the free throw factor based on year. We will use this model to predict the ideal stat for each NBA year. We established earlier that the NBA seems to be slowly declining in this area of efficient free throw shooting.</p>
</div>
<div class="cell code" data-execution_count="59">
<div class="sourceCode" id="cb28"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>X <span class="op">=</span> [[x] <span class="cf">for</span> x <span class="kw">in</span> team_df[<span class="st">&#39;Year&#39;</span>].values]</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>y <span class="op">=</span> team_df[<span class="st">&#39;FT/FGA&#39;</span>]</span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>reg <span class="op">=</span> LinearRegression().fit(X, y)</span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&quot;score: &quot;</span>, reg.score(X, y))</span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&quot;slope: &quot;</span>, reg.coef_[<span class="dv">0</span>])</span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&quot;intercept: &quot;</span>, reg.intercept_)</span></code></pre></div>
<div class="output stream stdout">
<pre><code>score:  0.21561286856517836
slope:  -0.0025383226012840455
intercept:  5.322418863754181
</code></pre>
</div>
</div>
<div class="cell markdown">
<p>Now, we can predict the ideal free throw factor for each year using the model. Afterwards, we create a new column which holds the residual for each NBA team from 2001 - 2018. Lastly, we plot the residuals and color the data points a different color for the winning teams to make them easier to distinguish.</p>
</div>
<div class="cell code" data-execution_count="60">
<div class="sourceCode" id="cb30"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="co"># use regression to predict the FT/FGA at each year</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>team_df[<span class="st">&#39;prediction&#39;</span>] <span class="op">=</span> reg.predict(X)</span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a><span class="co"># residual = observed - expected</span></span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>team_df[<span class="st">&#39;residual&#39;</span>] <span class="op">=</span> team_df[<span class="st">&#39;FT/FGA&#39;</span>] <span class="op">-</span> team_df[<span class="st">&#39;prediction&#39;</span>]</span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">16</span>,<span class="dv">8</span>))</span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a>sns.scatterplot(x<span class="op">=</span><span class="st">&quot;Year&quot;</span>, y<span class="op">=</span><span class="st">&quot;residual&quot;</span>, hue<span class="op">=</span><span class="st">&quot;winning_team&quot;</span>, data<span class="op">=</span>team_df)</span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a>plt.legend(loc<span class="op">=</span><span class="dv">9</span>, bbox_to_anchor<span class="op">=</span>(<span class="fl">0.5</span>, <span class="op">-</span><span class="fl">0.1</span>), ncol<span class="op">=</span><span class="dv">5</span>)</span>
<span id="cb30-8"><a href="#cb30-8" aria-hidden="true" tabindex="-1"></a>plt.xticks(averages_df[<span class="st">&#39;Year&#39;</span>])</span>
<span id="cb30-9"><a href="#cb30-9" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">&#39;Year&#39;</span>)</span>
<span id="cb30-10"><a href="#cb30-10" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">&#39;Residual&#39;</span>)</span>
<span id="cb30-11"><a href="#cb30-11" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&#39;Residual of Free Throw Factor vs. Year For All NBA Teams (2001-2018)&#39;</span>)</span></code></pre></div>
<div class="output execute_result" data-execution_count="60">
<pre><code>Text(0.5, 1.0, &#39;Residual of Free Throw Factor vs. Year For All NBA Teams (2001-2018)&#39;)</code></pre>
</div>
<div class="output display_data">
<p><img src="vertopal_88f9532f21724a90bc394d67b1c02a87/ca28504e477e3b201eefe05d055364542fc3c813.png" /></p>
</div>
</div>
<div class="cell markdown">
<p>The residual of a data point is the actual data stat minus the expected data stat. To get a better understand of residuals visit <a href="https://www.statisticshowto.datasciencecentral.com/residual/" class="uri">https://www.statisticshowto.datasciencecentral.com/residual/</a>.<br />
We should analyze the data and look for any useful patterns. The predicted data stat was calculated by the Linear Regression model. Unfortunately, it seems both winning and losing teams span accross both negative and positive residuals. However, it seems it may be possible that winning teams are more likely to have a positive residual. We should calculate exactly what percentage of winning teams have a better free throw factor than expected.</p>
</div>
<div class="cell code" data-execution_count="62">
<div class="sourceCode" id="cb32"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>count <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>count1 <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> index, row <span class="kw">in</span> team_df.iterrows():</span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> row[<span class="st">&#39;W&#39;</span>] <span class="op">&gt;</span> <span class="dv">50</span> <span class="kw">and</span> row[<span class="st">&#39;residual&#39;</span>] <span class="op">&gt;</span> <span class="dv">0</span>:</span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>        count <span class="op">+=</span> <span class="dv">1</span></span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> row[<span class="st">&#39;W&#39;</span>] <span class="op">&gt;</span> <span class="dv">50</span>:</span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a>        count1<span class="op">+=</span><span class="dv">1</span></span>
<span id="cb32-8"><a href="#cb32-8" aria-hidden="true" tabindex="-1"></a>count<span class="op">/</span>count1</span></code></pre></div>
<div class="output execute_result" data-execution_count="62">
<pre><code>0.6153846153846154</code></pre>
</div>
</div>
<div class="cell markdown">
<p>It seems we can expect about 62% of winning teams to perform above the expected FT/FGA.</p>
</div>
<div class="cell markdown">
<p>Next, we should consider the another angle at analyzing free the free throw factor. After already having calculated the opposing FT/FGA, we can see if winning teams can attribute a part of their winnings to how well their opponents' free throw factor stats are. To do this we simply repeat the previous model and residual calculation but instead of the FT/FGA column we use the Opp_FT/FGA stats.</p>
</div>
<div class="cell code" data-execution_count="63">
<div class="sourceCode" id="cb34"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>X <span class="op">=</span> [[x] <span class="cf">for</span> x <span class="kw">in</span> team_df[<span class="st">&#39;Year&#39;</span>].values]</span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>y <span class="op">=</span> team_df[<span class="st">&#39;Opp_FT/FGA&#39;</span>]</span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>reg <span class="op">=</span> LinearRegression().fit(X, y)</span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&quot;score: &quot;</span>, reg.score(X, y))</span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&quot;slope: &quot;</span>, reg.coef_[<span class="dv">0</span>])</span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&quot;intercept: &quot;</span>, reg.intercept_)</span></code></pre></div>
<div class="output stream stdout">
<pre><code>score:  0.2224852363983264
slope:  -0.0025786691414255
intercept:  5.403676538779494
</code></pre>
</div>
</div>
<div class="cell code" data-execution_count="64">
<div class="sourceCode" id="cb36"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>team_df[<span class="st">&#39;prediction&#39;</span>] <span class="op">=</span> reg.predict(X)</span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a><span class="co"># residual = observed - expected</span></span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>team_df[<span class="st">&#39;residual&#39;</span>] <span class="op">=</span> team_df[<span class="st">&#39;Opp_FT/FGA&#39;</span>] <span class="op">-</span> team_df[<span class="st">&#39;prediction&#39;</span>]</span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">16</span>,<span class="dv">8</span>))</span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a>sns.scatterplot(x<span class="op">=</span><span class="st">&quot;Year&quot;</span>, y<span class="op">=</span><span class="st">&quot;residual&quot;</span>, hue<span class="op">=</span><span class="st">&quot;winning_team&quot;</span>, data<span class="op">=</span>team_df)</span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a>plt.legend(loc<span class="op">=</span><span class="dv">9</span>, bbox_to_anchor<span class="op">=</span>(<span class="fl">0.5</span>, <span class="op">-</span><span class="fl">0.1</span>), ncol<span class="op">=</span><span class="dv">5</span>)</span>
<span id="cb36-7"><a href="#cb36-7" aria-hidden="true" tabindex="-1"></a>plt.xticks(averages_df[<span class="st">&#39;Year&#39;</span>])</span>
<span id="cb36-8"><a href="#cb36-8" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">&#39;Year&#39;</span>)</span>
<span id="cb36-9"><a href="#cb36-9" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">&#39;Residual&#39;</span>)</span>
<span id="cb36-10"><a href="#cb36-10" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&#39;Residual of Opposing Free Throw Factor vs. Year For All NBA Teams (2001-2018)&#39;</span>)</span></code></pre></div>
<div class="output execute_result" data-execution_count="64">
<pre><code>Text(0.5, 1.0, &#39;Residual of Opposing Free Throw Factor vs. Year For All NBA Teams (2001-2018)&#39;)</code></pre>
</div>
<div class="output display_data">
<p><img src="vertopal_88f9532f21724a90bc394d67b1c02a87/bef09b65d9d3ada447b5997049bf0e3820be9e71.png" /></p>
</div>
</div>
<div class="cell markdown">
<p>This residual plot reveals a pattern. Many of the winning team data points can be observed as lower than predicted by the model. We should grab an exact percentage by counting the points under the zero residual line and dividing it by the total number of winning teams.</p>
</div>
<div class="cell code" data-execution_count="65">
<div class="sourceCode" id="cb38"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>count <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>count1 <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> index, row <span class="kw">in</span> team_df.iterrows():</span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> row[<span class="st">&#39;W&#39;</span>] <span class="op">&gt;</span> <span class="dv">50</span> <span class="kw">and</span> row[<span class="st">&#39;residual&#39;</span>] <span class="op">&lt;</span> <span class="dv">0</span>:</span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a>        count <span class="op">+=</span> <span class="dv">1</span></span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> row[<span class="st">&#39;W&#39;</span>] <span class="op">&gt;</span> <span class="dv">50</span>:</span>
<span id="cb38-7"><a href="#cb38-7" aria-hidden="true" tabindex="-1"></a>        count1<span class="op">+=</span><span class="dv">1</span></span>
<span id="cb38-8"><a href="#cb38-8" aria-hidden="true" tabindex="-1"></a>count<span class="op">/</span>count1</span></code></pre></div>
<div class="output execute_result" data-execution_count="65">
<pre><code>0.6495726495726496</code></pre>
</div>
</div>
<div class="cell markdown">
<p>The data shows that about 65% of winning teams restrict their opponents to less than expected free throws per field goal attempts.</p>
</div>
<div class="cell markdown">
<p>Another interesting angle of analyzing the free throw factor across years is to subtract the team's free throw factor by their opposing free throw factor. This stat can determine whether having a better free throw per field goal attempt can be valuable to a winning team.<br />
First, we should add a new column which stores the subtraction to the dataframe. The following plot depicts each teams subtraction stat by year.</p>
</div>
<div class="cell code" data-execution_count="68">
<div class="sourceCode" id="cb40"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>team_df[<span class="st">&#39;sub&#39;</span>] <span class="op">=</span> team_df[<span class="st">&#39;FT/FGA&#39;</span>] <span class="op">-</span> team_df[<span class="st">&#39;Opp_FT/FGA&#39;</span>]</span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">16</span>,<span class="dv">8</span>))</span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>sns.scatterplot(x<span class="op">=</span><span class="st">&quot;Year&quot;</span>, y<span class="op">=</span><span class="st">&quot;sub&quot;</span>, hue<span class="op">=</span><span class="st">&quot;winning_team&quot;</span>, data<span class="op">=</span>team_df)</span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a>plt.legend(loc<span class="op">=</span><span class="dv">9</span>, bbox_to_anchor<span class="op">=</span>(<span class="fl">0.5</span>, <span class="op">-</span><span class="fl">0.1</span>), ncol<span class="op">=</span><span class="dv">5</span>)</span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a>plt.xticks(averages_df[<span class="st">&#39;Year&#39;</span>])</span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">&#39;Year&#39;</span>)</span>
<span id="cb40-7"><a href="#cb40-7" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">&#39;Free throw Factor - Opposing Free throw Factor&#39;</span>)</span>
<span id="cb40-8"><a href="#cb40-8" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&#39;Residual of Opposing Free Throw Factor vs. Year For All NBA Teams (2001-2018)&#39;</span>)</span></code></pre></div>
<div class="output execute_result" data-execution_count="68">
<pre><code>Text(0.5, 1.0, &#39;Residual of Opposing Free Throw Factor vs. Year For All NBA Teams (2001-2018)&#39;)</code></pre>
</div>
<div class="output display_data">
<p><img src="vertopal_88f9532f21724a90bc394d67b1c02a87/2909e023731cbe1b4d2cd9f24e5ec84904a75555.png" /></p>
</div>
</div>
<div class="cell markdown">
<p>Next, we can make another model to predict this new stat for each year using the Linear Regression Model. Then, we can calculate another residual and plot to find any patterns.</p>
</div>
<div class="cell code" data-execution_count="71">
<div class="sourceCode" id="cb42"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>X <span class="op">=</span> [[x] <span class="cf">for</span> x <span class="kw">in</span> team_df[<span class="st">&#39;Year&#39;</span>].values]</span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>y <span class="op">=</span> team_df[<span class="st">&#39;sub&#39;</span>]</span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a>reg <span class="op">=</span> LinearRegression().fit(X, y)</span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&quot;score: &quot;</span>, reg.score(X, y))</span>
<span id="cb42-5"><a href="#cb42-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&quot;slope: &quot;</span>, reg.coef_[<span class="dv">0</span>])</span>
<span id="cb42-6"><a href="#cb42-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&quot;intercept: &quot;</span>, reg.intercept_)</span></code></pre></div>
<div class="output stream stdout">
<pre><code>score:  4.768126398946305e-05
slope:  4.034654014145389e-05
intercept:  -0.08125767502531221
</code></pre>
</div>
</div>
<div class="cell code" data-execution_count="72">
<div class="sourceCode" id="cb44"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>team_df[<span class="st">&#39;prediction&#39;</span>] <span class="op">=</span> reg.predict(X)</span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a><span class="co"># residual = observed - expected</span></span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a>team_df[<span class="st">&#39;residual&#39;</span>] <span class="op">=</span> team_df[<span class="st">&#39;sub&#39;</span>] <span class="op">-</span> team_df[<span class="st">&#39;prediction&#39;</span>]</span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">16</span>,<span class="dv">8</span>))</span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a>sns.scatterplot(x<span class="op">=</span><span class="st">&quot;Year&quot;</span>, y<span class="op">=</span><span class="st">&quot;residual&quot;</span>, hue<span class="op">=</span><span class="st">&quot;winning_team&quot;</span>, data<span class="op">=</span>team_df)</span>
<span id="cb44-6"><a href="#cb44-6" aria-hidden="true" tabindex="-1"></a>plt.legend(loc<span class="op">=</span><span class="dv">9</span>, bbox_to_anchor<span class="op">=</span>(<span class="fl">0.5</span>, <span class="op">-</span><span class="fl">0.1</span>), ncol<span class="op">=</span><span class="dv">5</span>)</span>
<span id="cb44-7"><a href="#cb44-7" aria-hidden="true" tabindex="-1"></a>plt.xticks(averages_df[<span class="st">&#39;Year&#39;</span>])</span>
<span id="cb44-8"><a href="#cb44-8" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">&#39;Year&#39;</span>)</span>
<span id="cb44-9"><a href="#cb44-9" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">&#39;Residual&#39;</span>)</span>
<span id="cb44-10"><a href="#cb44-10" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&#39;Residual of Opposing Free Throw Factor vs. Year For All NBA Teams (2001-2018)&#39;</span>)</span></code></pre></div>
<div class="output execute_result" data-execution_count="72">
<pre><code>Text(0.5, 1.0, &#39;Residual of Opposing Free Throw Factor vs. Year For All NBA Teams (2001-2018)&#39;)</code></pre>
</div>
<div class="output display_data">
<p><img src="vertopal_88f9532f21724a90bc394d67b1c02a87/ccd0d6237ff2d61157a3146163ef509b0f487f62.png" /></p>
</div>
</div>
<div class="cell markdown">
<p>This new stats provides a more telling picture of the relationship between the free throw factor and a winning team. Majority of the teams are concentrated above or very close to the predicted value. Teams who have won at least 50 games in their regular season have commonly performed better than their opponents in free throw per field goal attempt. We can calculate the exact the percentage of winning teams which share this performance.</p>
</div>
<div class="cell code" data-execution_count="75">
<div class="sourceCode" id="cb46"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>count <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>count1 <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> index, row <span class="kw">in</span> team_df.iterrows():</span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> row[<span class="st">&#39;W&#39;</span>] <span class="op">&gt;</span> <span class="dv">50</span> <span class="kw">and</span> row[<span class="st">&#39;residual&#39;</span>] <span class="op">&gt;=</span> <span class="dv">0</span>:</span>
<span id="cb46-5"><a href="#cb46-5" aria-hidden="true" tabindex="-1"></a>        count <span class="op">+=</span> <span class="dv">1</span></span>
<span id="cb46-6"><a href="#cb46-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> row[<span class="st">&#39;W&#39;</span>] <span class="op">&gt;</span> <span class="dv">50</span>:</span>
<span id="cb46-7"><a href="#cb46-7" aria-hidden="true" tabindex="-1"></a>        count1<span class="op">+=</span><span class="dv">1</span></span>
<span id="cb46-8"><a href="#cb46-8" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(count<span class="op">/</span>count1)</span>
<span id="cb46-9"><a href="#cb46-9" aria-hidden="true" tabindex="-1"></a>count <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb46-10"><a href="#cb46-10" aria-hidden="true" tabindex="-1"></a>count1 <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb46-11"><a href="#cb46-11" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> index, row <span class="kw">in</span> team_df.iterrows():</span>
<span id="cb46-12"><a href="#cb46-12" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> row[<span class="st">&#39;W&#39;</span>] <span class="op">&gt;</span> <span class="dv">50</span> <span class="kw">and</span> row[<span class="st">&#39;residual&#39;</span>] <span class="op">&gt;=</span> <span class="op">-</span><span class="fl">.01</span>:</span>
<span id="cb46-13"><a href="#cb46-13" aria-hidden="true" tabindex="-1"></a>        count <span class="op">+=</span> <span class="dv">1</span></span>
<span id="cb46-14"><a href="#cb46-14" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> row[<span class="st">&#39;W&#39;</span>] <span class="op">&gt;</span> <span class="dv">50</span>:</span>
<span id="cb46-15"><a href="#cb46-15" aria-hidden="true" tabindex="-1"></a>        count1<span class="op">+=</span><span class="dv">1</span></span>
<span id="cb46-16"><a href="#cb46-16" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(count<span class="op">/</span>count1)</span></code></pre></div>
<div class="output stream stdout">
<pre><code>0.7094017094017094
0.8376068376068376
</code></pre>
</div>
</div>
<div class="cell markdown">
<p>The percentage comes to be around 71%. Furthermore, if we include winning teams with residuals down by -.01 we can see that the percentage increases to 84%. This percentage indicates that it is rare for a winning team to fall behind in free throw per field goal attempt. Therefore, teams in the NBA with worse free throw factor comparison should work on their free throw factor to increase their chances of being a winning team.</p>
</div>
<section id="v-conclusion" class="cell markdown">
<h2>V. Conclusion</h2>
</section>
<div class="cell markdown">
<p>Through our research, data collection, visualization, and analyzation, we can safely conclude that the best professional teams in the history National Basketball Association have shown a strong positive response between free throw shooting and winning games. Although the overall efficient use of free throws has declined over the years, the best teams still continue to show their talents at getting to and making use of the free throw line. Teams who have restricted their opponents at the free throw line have also ranked higher in the league. We should encourage current teams to learn from these trends and take advantage of the free points.</p>
</div>
<div class="cell markdown">
<p>In an era where the three point shot is dominating, there is still a need for professional teams in the National Basketball Association to improve upon their free throw fundamentals and efficiency. Within the past eighteen years there has been a decline in attention towards the free points offered after a foul play. However, teams with higher win percentages had ranked higher than others in making the most of their free throws. Great basketball legends like Michael Jordan and Kobe Bryant have mastered the art of free throw shooting. They encourage both current and future stars to fine tune their free throw shooting and form. Other future hall-of-famers like James Harden have also made the most of the free shots given to them. Therefore, it is highly recommended for a team competing at the highest level to not forget about the importance of free throw shooting and the impact it could have on winning a season. Never forget how valuable a free throw point could be at the end of a game. It can determine the outcome of an elimination game in mere seconds. With new rules and regulations put into effect for the safety of the players, the chances of getting to the free throw line have increased. If interested, you can read more about the value of free throw shooting here <a href="https://hoopshabit.com/2014/10/10/nba-free-throws-championship-success/" class="uri">https://hoopshabit.com/2014/10/10/nba-free-throws-championship-success/</a>. In conclusion, coaches with a winning mindset should take measures to incorporate better free throw shooting in their game plans.</p>
</div>
</body>
</html>
